{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { supabase } from '../supabaseClient';\nexport function useSupabaseUser() {\n  _s();\n  const [user, setUser] = useState(null);\n  useEffect(() => {\n    const session = supabase.auth.getSession();\n    session.then(({\n      data\n    }) => {\n      var _data$session;\n      return setUser((data === null || data === void 0 ? void 0 : (_data$session = data.session) === null || _data$session === void 0 ? void 0 : _data$session.user) || null);\n    });\n    const {\n      data: listener\n    } = supabase.auth.onAuthStateChange((_event, session) => {\n      setUser((session === null || session === void 0 ? void 0 : session.user) || null);\n    });\n    return () => {\n      var _listener$subscriptio;\n      listener === null || listener === void 0 ? void 0 : (_listener$subscriptio = listener.subscription) === null || _listener$subscriptio === void 0 ? void 0 : _listener$subscriptio.unsubscribe();\n    };\n  }, []);\n  return user;\n}\n_s(useSupabaseUser, \"5s2qRsV95gTJBmaaTh11GoxYeGE=\");","map":{"version":3,"names":["useEffect","useState","supabase","useSupabaseUser","_s","user","setUser","session","auth","getSession","then","data","_data$session","listener","onAuthStateChange","_event","_listener$subscriptio","subscription","unsubscribe"],"sources":["D:/diary me test/src/useSupabaseUser.js"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { supabase } from '../supabaseClient';\r\n\r\nexport function useSupabaseUser() {\r\n  const [user, setUser] = useState(null);\r\n  useEffect(() => {\r\n    const session = supabase.auth.getSession();\r\n    session.then(({ data }) => setUser(data?.session?.user || null));\r\n    const { data: listener } = supabase.auth.onAuthStateChange((_event, session) => {\r\n      setUser(session?.user || null);\r\n    });\r\n    return () => {\r\n      listener?.subscription?.unsubscribe();\r\n    };\r\n  }, []);\r\n  return user;\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,QAAQ,QAAQ,mBAAmB;AAE5C,OAAO,SAASC,eAAeA,CAAA,EAAG;EAAAC,EAAA;EAChC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGL,QAAQ,CAAC,IAAI,CAAC;EACtCD,SAAS,CAAC,MAAM;IACd,MAAMO,OAAO,GAAGL,QAAQ,CAACM,IAAI,CAACC,UAAU,CAAC,CAAC;IAC1CF,OAAO,CAACG,IAAI,CAAC,CAAC;MAAEC;IAAK,CAAC;MAAA,IAAAC,aAAA;MAAA,OAAKN,OAAO,CAAC,CAAAK,IAAI,aAAJA,IAAI,wBAAAC,aAAA,GAAJD,IAAI,CAAEJ,OAAO,cAAAK,aAAA,uBAAbA,aAAA,CAAeP,IAAI,KAAI,IAAI,CAAC;IAAA,EAAC;IAChE,MAAM;MAAEM,IAAI,EAAEE;IAAS,CAAC,GAAGX,QAAQ,CAACM,IAAI,CAACM,iBAAiB,CAAC,CAACC,MAAM,EAAER,OAAO,KAAK;MAC9ED,OAAO,CAAC,CAAAC,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEF,IAAI,KAAI,IAAI,CAAC;IAChC,CAAC,CAAC;IACF,OAAO,MAAM;MAAA,IAAAW,qBAAA;MACXH,QAAQ,aAARA,QAAQ,wBAAAG,qBAAA,GAARH,QAAQ,CAAEI,YAAY,cAAAD,qBAAA,uBAAtBA,qBAAA,CAAwBE,WAAW,CAAC,CAAC;IACvC,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EACN,OAAOb,IAAI;AACb;AAACD,EAAA,CAbeD,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}