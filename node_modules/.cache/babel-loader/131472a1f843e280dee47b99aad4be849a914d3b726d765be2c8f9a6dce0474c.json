{"ast":null,"code":"var _jsxFileName = \"D:\\\\diary me test\\\\src\\\\index.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport Root from './Root';\nimport './index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(/*#__PURE__*/_jsxDEV(Root, {}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 7,\n  columnNumber: 13\n}, this));\n\n// Register service worker for PWA and subscribe to push notifications\nif ('serviceWorker' in navigator) {\n  window.addEventListener('load', async () => {\n    try {\n      const registration = await navigator.serviceWorker.register('/sw.js');\n      console.log('Service Worker registered with scope:', registration.scope);\n\n      // Request notification permission\n      if ('Notification' in window && Notification.permission !== 'granted') {\n        await Notification.requestPermission();\n      }\n\n      // Subscribe to push notifications\n      if ('PushManager' in window && Notification.permission === 'granted') {\n        const subscribeOptions = {\n          userVisibleOnly: true,\n          applicationServerKey: urlBase64ToUint8Array('<YOUR_PUBLIC_VAPID_KEY_HERE>')\n        };\n        const subscription = await registration.pushManager.subscribe(subscribeOptions);\n        console.log('Push subscription:', JSON.stringify(subscription));\n        // TODO: Send subscription to your backend server for later push\n      }\n    } catch (err) {\n      console.error('Service Worker registration or push subscription failed:', err);\n    }\n  });\n}\n\n// Helper to convert VAPID key\nfunction urlBase64ToUint8Array(base64String) {\n  const padding = '='.repeat((4 - base64String.length % 4) % 4);\n  const base64 = (base64String + padding).replace(/-/g, '+').replace(/_/g, '/');\n  const rawData = window.atob(base64);\n  const outputArray = new Uint8Array(rawData.length);\n  for (let i = 0; i < rawData.length; ++i) {\n    outputArray[i] = rawData.charCodeAt(i);\n  }\n  return outputArray;\n}","map":{"version":3,"names":["React","ReactDOM","Root","jsxDEV","_jsxDEV","root","createRoot","document","getElementById","render","fileName","_jsxFileName","lineNumber","columnNumber","navigator","window","addEventListener","registration","serviceWorker","register","console","log","scope","Notification","permission","requestPermission","subscribeOptions","userVisibleOnly","applicationServerKey","urlBase64ToUint8Array","subscription","pushManager","subscribe","JSON","stringify","err","error","base64String","padding","repeat","length","base64","replace","rawData","atob","outputArray","Uint8Array","i","charCodeAt"],"sources":["D:/diary me test/src/index.js"],"sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport Root from './Root';\r\nimport './index.css';\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(<Root />);\r\n\r\n// Register service worker for PWA and subscribe to push notifications\r\nif ('serviceWorker' in navigator) {\r\n\twindow.addEventListener('load', async () => {\r\n\t\ttry {\r\n\t\t\tconst registration = await navigator.serviceWorker.register('/sw.js');\r\n\t\t\tconsole.log('Service Worker registered with scope:', registration.scope);\r\n\r\n\t\t\t// Request notification permission\r\n\t\t\tif ('Notification' in window && Notification.permission !== 'granted') {\r\n\t\t\t\tawait Notification.requestPermission();\r\n\t\t\t}\r\n\r\n\t\t\t// Subscribe to push notifications\r\n\t\t\tif ('PushManager' in window && Notification.permission === 'granted') {\r\n\t\t\t\tconst subscribeOptions = {\r\n\t\t\t\t\tuserVisibleOnly: true,\r\n\t\t\t\t\tapplicationServerKey: urlBase64ToUint8Array('<YOUR_PUBLIC_VAPID_KEY_HERE>')\r\n\t\t\t\t};\r\n\t\t\t\tconst subscription = await registration.pushManager.subscribe(subscribeOptions);\r\n\t\t\t\tconsole.log('Push subscription:', JSON.stringify(subscription));\r\n\t\t\t\t// TODO: Send subscription to your backend server for later push\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('Service Worker registration or push subscription failed:', err);\r\n\t\t}\r\n\t});\r\n}\r\n\r\n// Helper to convert VAPID key\r\nfunction urlBase64ToUint8Array(base64String) {\r\n\tconst padding = '='.repeat((4 - base64String.length % 4) % 4);\r\n\tconst base64 = (base64String + padding)\r\n\t\t.replace(/-/g, '+')\r\n\t\t.replace(/_/g, '/');\r\n\tconst rawData = window.atob(base64);\r\n\tconst outputArray = new Uint8Array(rawData.length);\r\n\tfor (let i = 0; i < rawData.length; ++i) {\r\n\t\toutputArray[i] = rawData.charCodeAt(i);\r\n\t}\r\n\treturn outputArray;\r\n}\r\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,QAAQ,MAAM,kBAAkB;AACvC,OAAOC,IAAI,MAAM,QAAQ;AACzB,OAAO,aAAa;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErB,MAAMC,IAAI,GAAGJ,QAAQ,CAACK,UAAU,CAACC,QAAQ,CAACC,cAAc,CAAC,MAAM,CAAC,CAAC;AACjEH,IAAI,CAACI,MAAM,cAACL,OAAA,CAACF,IAAI;EAAAQ,QAAA,EAAAC,YAAA;EAAAC,UAAA;EAAAC,YAAA;AAAA,OAAE,CAAC,CAAC;;AAErB;AACA,IAAI,eAAe,IAAIC,SAAS,EAAE;EACjCC,MAAM,CAACC,gBAAgB,CAAC,MAAM,EAAE,YAAY;IAC3C,IAAI;MACH,MAAMC,YAAY,GAAG,MAAMH,SAAS,CAACI,aAAa,CAACC,QAAQ,CAAC,QAAQ,CAAC;MACrEC,OAAO,CAACC,GAAG,CAAC,uCAAuC,EAAEJ,YAAY,CAACK,KAAK,CAAC;;MAExE;MACA,IAAI,cAAc,IAAIP,MAAM,IAAIQ,YAAY,CAACC,UAAU,KAAK,SAAS,EAAE;QACtE,MAAMD,YAAY,CAACE,iBAAiB,CAAC,CAAC;MACvC;;MAEA;MACA,IAAI,aAAa,IAAIV,MAAM,IAAIQ,YAAY,CAACC,UAAU,KAAK,SAAS,EAAE;QACrE,MAAME,gBAAgB,GAAG;UACxBC,eAAe,EAAE,IAAI;UACrBC,oBAAoB,EAAEC,qBAAqB,CAAC,8BAA8B;QAC3E,CAAC;QACD,MAAMC,YAAY,GAAG,MAAMb,YAAY,CAACc,WAAW,CAACC,SAAS,CAACN,gBAAgB,CAAC;QAC/EN,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEY,IAAI,CAACC,SAAS,CAACJ,YAAY,CAAC,CAAC;QAC/D;MACD;IACD,CAAC,CAAC,OAAOK,GAAG,EAAE;MACbf,OAAO,CAACgB,KAAK,CAAC,0DAA0D,EAAED,GAAG,CAAC;IAC/E;EACD,CAAC,CAAC;AACH;;AAEA;AACA,SAASN,qBAAqBA,CAACQ,YAAY,EAAE;EAC5C,MAAMC,OAAO,GAAG,GAAG,CAACC,MAAM,CAAC,CAAC,CAAC,GAAGF,YAAY,CAACG,MAAM,GAAG,CAAC,IAAI,CAAC,CAAC;EAC7D,MAAMC,MAAM,GAAG,CAACJ,YAAY,GAAGC,OAAO,EACpCI,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAClBA,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC;EACpB,MAAMC,OAAO,GAAG5B,MAAM,CAAC6B,IAAI,CAACH,MAAM,CAAC;EACnC,MAAMI,WAAW,GAAG,IAAIC,UAAU,CAACH,OAAO,CAACH,MAAM,CAAC;EAClD,KAAK,IAAIO,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,OAAO,CAACH,MAAM,EAAE,EAAEO,CAAC,EAAE;IACxCF,WAAW,CAACE,CAAC,CAAC,GAAGJ,OAAO,CAACK,UAAU,CAACD,CAAC,CAAC;EACvC;EACA,OAAOF,WAAW;AACnB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}