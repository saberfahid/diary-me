{"ast":null,"code":"import{supabase}from'./components/supabaseClient';export async function uploadImageToSupabase(file,userId){const fileExt=file.name.split('.').pop();const fileName=\"\".concat(userId,\"/\").concat(Date.now(),\".\").concat(fileExt);const{error}=await supabase.storage.from('diary-media').upload(fileName,file,{cacheControl:'3600',upsert:false});if(error)return{error};const url=supabase.storage.from('diary-media').getPublicUrl(fileName).data.publicUrl;return{url};}","map":{"version":3,"names":["supabase","uploadImageToSupabase","file","userId","fileExt","name","split","pop","fileName","concat","Date","now","error","storage","from","upload","cacheControl","upsert","url","getPublicUrl","data","publicUrl"],"sources":["D:/diary me test/src/uploadImageSupabase.js"],"sourcesContent":["import { supabase } from './components/supabaseClient';\r\n\r\nexport async function uploadImageToSupabase(file, userId) {\r\n  const fileExt = file.name.split('.').pop();\r\n  const fileName = `${userId}/${Date.now()}.${fileExt}`;\r\n  const { error } = await supabase.storage.from('diary-media').upload(fileName, file, {\r\n    cacheControl: '3600',\r\n    upsert: false,\r\n  });\r\n  if (error) return { error };\r\n  const url = supabase.storage.from('diary-media').getPublicUrl(fileName).data.publicUrl;\r\n  return { url };\r\n}\r\n"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,6BAA6B,CAEtD,MAAO,eAAe,CAAAC,qBAAqBA,CAACC,IAAI,CAAEC,MAAM,CAAE,CACxD,KAAM,CAAAC,OAAO,CAAGF,IAAI,CAACG,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAAC,CAAC,CAC1C,KAAM,CAAAC,QAAQ,IAAAC,MAAA,CAAMN,MAAM,MAAAM,MAAA,CAAIC,IAAI,CAACC,GAAG,CAAC,CAAC,MAAAF,MAAA,CAAIL,OAAO,CAAE,CACrD,KAAM,CAAEQ,KAAM,CAAC,CAAG,KAAM,CAAAZ,QAAQ,CAACa,OAAO,CAACC,IAAI,CAAC,aAAa,CAAC,CAACC,MAAM,CAACP,QAAQ,CAAEN,IAAI,CAAE,CAClFc,YAAY,CAAE,MAAM,CACpBC,MAAM,CAAE,KACV,CAAC,CAAC,CACF,GAAIL,KAAK,CAAE,MAAO,CAAEA,KAAM,CAAC,CAC3B,KAAM,CAAAM,GAAG,CAAGlB,QAAQ,CAACa,OAAO,CAACC,IAAI,CAAC,aAAa,CAAC,CAACK,YAAY,CAACX,QAAQ,CAAC,CAACY,IAAI,CAACC,SAAS,CACtF,MAAO,CAAEH,GAAI,CAAC,CAChB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}