{"ast":null,"code":"import { supabase } from './components/supabaseClient';\nexport async function uploadImageToSupabase(file, userId) {\n  const fileExt = file.name.split('.').pop();\n  const fileName = `${userId}/${Date.now()}.${fileExt}`;\n  const {\n    error\n  } = await supabase.storage.from('diary-media').upload(fileName, file, {\n    cacheControl: '3600',\n    upsert: false\n  });\n  if (error) return {\n    error\n  };\n  const url = supabase.storage.from('diary-media').getPublicUrl(fileName).data.publicUrl;\n  return {\n    url\n  };\n}","map":{"version":3,"names":["supabase","uploadImageToSupabase","file","userId","fileExt","name","split","pop","fileName","Date","now","error","storage","from","upload","cacheControl","upsert","url","getPublicUrl","data","publicUrl"],"sources":["D:/diary me test/src/uploadImageSupabase.js"],"sourcesContent":["import { supabase } from './components/supabaseClient';\r\n\r\nexport async function uploadImageToSupabase(file, userId) {\r\n  const fileExt = file.name.split('.').pop();\r\n  const fileName = `${userId}/${Date.now()}.${fileExt}`;\r\n  const { error } = await supabase.storage.from('diary-media').upload(fileName, file, {\r\n    cacheControl: '3600',\r\n    upsert: false,\r\n  });\r\n  if (error) return { error };\r\n  const url = supabase.storage.from('diary-media').getPublicUrl(fileName).data.publicUrl;\r\n  return { url };\r\n}\r\n"],"mappings":"AAAA,SAASA,QAAQ,QAAQ,6BAA6B;AAEtD,OAAO,eAAeC,qBAAqBA,CAACC,IAAI,EAAEC,MAAM,EAAE;EACxD,MAAMC,OAAO,GAAGF,IAAI,CAACG,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAAC,CAAC;EAC1C,MAAMC,QAAQ,GAAG,GAAGL,MAAM,IAAIM,IAAI,CAACC,GAAG,CAAC,CAAC,IAAIN,OAAO,EAAE;EACrD,MAAM;IAAEO;EAAM,CAAC,GAAG,MAAMX,QAAQ,CAACY,OAAO,CAACC,IAAI,CAAC,aAAa,CAAC,CAACC,MAAM,CAACN,QAAQ,EAAEN,IAAI,EAAE;IAClFa,YAAY,EAAE,MAAM;IACpBC,MAAM,EAAE;EACV,CAAC,CAAC;EACF,IAAIL,KAAK,EAAE,OAAO;IAAEA;EAAM,CAAC;EAC3B,MAAMM,GAAG,GAAGjB,QAAQ,CAACY,OAAO,CAACC,IAAI,CAAC,aAAa,CAAC,CAACK,YAAY,CAACV,QAAQ,CAAC,CAACW,IAAI,CAACC,SAAS;EACtF,OAAO;IAAEH;EAAI,CAAC;AAChB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}